# Учебный репозиторий курса PurpleSchool NestJS
https://purpleschool.ru/

## Задача
Создать сервис бронирования жилья, простой аналог airbnb

Предметные области сервиса:
- объекты бронирования: могут быть жильем целиком или отдельной комнатой, имеют стоимость за ночь и список удобств. 
- бронирование: создается пользователем для объекта бронирования на определенный период (единица периода - одни целые сутки). Может быть отменено пользователем или администратором.
- пользователи: могут 
  - создавать новые объекты бронирования;
  - редактировать и удалять свои объекты бронирования;
  - создавать и отменять бронирование объектов бронирования.

## Реализация
Сервис построен с использованием фреймворка NestJS и СУБД MongoDB. 

Реализовано REST API для ресурсов:
- users
- rooms
- reservations

Аутентификация пользователей:
- пары логин/пароль;
- с использованием JWT

Авторизация пользователей: 
- с использованием ролей 
- с использованием разрешений на операции с ресурсами на основе аттрибутов объектов (ABAC).

## Запуск приложения
- `docker-compose up -d` - для запуска контейнеров с необходимыми сервисами (mongodb)
- `npm ci` - установка зависимостей
- `npm start` - запуск приложения
- `npm t` - запуск unit-тестов
- `npm run test:e2e` - запуск end-to-end тестов

Настройки приложения берутся из файла `.{NODE_ENV}.env`, а в случае отсутствия - из `.env`
